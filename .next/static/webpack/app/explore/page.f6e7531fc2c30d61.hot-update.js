"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/explore/page",{

/***/ "(app-pages-browser)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   askChat: () => (/* binding */ askChat),\n/* harmony export */   baseDocuments: () => (/* binding */ baseDocuments),\n/* harmony export */   deleteDocument: () => (/* binding */ deleteDocument),\n/* harmony export */   fetchDocument: () => (/* binding */ fetchDocument),\n/* harmony export */   fetchDocumentById: () => (/* binding */ fetchDocumentById),\n/* harmony export */   fetchDocuments: () => (/* binding */ fetchDocuments),\n/* harmony export */   saveEditedDocument: () => (/* binding */ saveEditedDocument),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage),\n/* harmony export */   updateDocument: () => (/* binding */ updateDocument),\n/* harmony export */   uploadDocument: () => (/* binding */ uploadDocument)\n/* harmony export */ });\nconst LOCAL_STORAGE_KEY = 'uploadedDocs';\nfunction loadUploadedDocs() {\n    if (false) {}\n    try {\n        const json = localStorage.getItem(LOCAL_STORAGE_KEY);\n        return json ? JSON.parse(json) : [];\n    } catch (e) {\n        console.error('loadUploadedDocs error', e);\n        return [];\n    }\n}\nfunction saveUploadedDocs(docs) {\n    if (false) {}\n    try {\n        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(docs));\n    } catch (e) {\n        console.error('saveUploadedDocs error', e);\n    }\n}\nasync function saveEditedDocument(id, data) {\n    const res = await fetch(\"/api/documents/\".concat(id), {\n        method: 'PUT',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n    });\n    if (!res.ok) {\n        console.error('❌ Błąd zapisu edytowanego dokumentu:', await res.text());\n        throw new Error('Nie udało się zapisać zmian');\n    }\n    return res.json();\n}\nconst baseDocuments = [\n    {\n        id: 'fallback-1',\n        title: 'Prezentacja Ewolucja Różnicowa',\n        author: 'Bartek R',\n        date: '2023-05-01',\n        language: 'polski',\n        tags: [\n            'ewolucja różnicowa',\n            'algorytm genetyczny'\n        ],\n        keywords: [\n            'ai',\n            'prezentacja'\n        ],\n        content: '',\n        fileUrl: '/uploads/ts426kk7pm8dwg68gnlhc0klm.pdf',\n        thumbnailUrl: '/thumbnails/cjfgyy30hcv580fczfvq84xl4.png'\n    },\n    {\n        id: 'fallback-2',\n        title: 'Broszura Fiat Tipo',\n        author: 'Fiat',\n        date: '2022-11-15',\n        language: 'angielski',\n        tags: [\n            'fiat',\n            'samochód'\n        ],\n        keywords: [\n            'broszura'\n        ],\n        content: '',\n        fileUrl: '/uploads/drgu12wy7lwclya0ano8c5tgly.pdf',\n        thumbnailUrl: '/thumbnails/kenidayr2tjik17ivpcojp63x.png'\n    },\n    {\n        id: 'fallback-3',\n        title: 'Broszura Hyundai i30',\n        author: 'Hyundai',\n        date: '2024-02-10',\n        language: 'angielski',\n        tags: [\n            'samochód',\n            'hyundai',\n            'i30'\n        ],\n        keywords: [\n            'broszura'\n        ],\n        content: '',\n        fileUrl: '/uploads/o0ffhapl3f06x2h5b4k0hg51b.pdf',\n        thumbnailUrl: '/thumbnails/fe5n1mb17k8t31r3apiw1vw0t.png'\n    },\n    {\n        id: 'fallback-4',\n        title: 'Dokument urzędowy',\n        author: 'Urząd skarbowy',\n        date: '2024-02-10',\n        language: 'polski',\n        tags: [\n            'dokument'\n        ],\n        keywords: [\n            'podatki',\n            'opłaty'\n        ],\n        content: '',\n        fileUrl: '/uploads/qongt15vnxl8con0qhrkbqlob.pdf',\n        thumbnailUrl: '/thumbnails/cukuk497ajdntty91thqxkdn5.png'\n    },\n    {\n        id: 'fallback-5',\n        title: 'Instrukcja Radio Blaupunkt',\n        author: 'Balupunkt',\n        date: '2024-02-10',\n        language: 'wielojęzyczny',\n        tags: [\n            'instrukcja',\n            'blaupunkt'\n        ],\n        keywords: [\n            'radio'\n        ],\n        content: '',\n        fileUrl: '/uploads/y1bjhspbabmv85yxsgzwa8819.pdf',\n        thumbnailUrl: '/thumbnails/oay2t86j2hw15eiff5xeqhkos.png'\n    }\n];\nasync function fetchDocuments(filters, query) {\n    const res = await fetch('/api/documents');\n    const text = await res.text();\n    if (!res.ok) {\n        let errMsg = text;\n        try {\n            const json = JSON.parse(text);\n            errMsg = json.error || JSON.stringify(json);\n        } catch (e) {}\n        console.error('Błąd pobierania dokumentów:', res.status, errMsg);\n        return baseDocuments // fallback w przypadku błędu\n        ;\n    }\n    let all = [];\n    try {\n        all = JSON.parse(text);\n    } catch (e) {\n        console.error('Błąd parsowania JSON:', e);\n        return baseDocuments;\n    }\n    if (all.length === 0) {\n        return baseDocuments;\n    }\n    // filtrowanie\n    return all.filter((doc)=>{\n        var _doc_author, _doc_language;\n        const matchesQuery = !query || doc.title.toLowerCase().includes(query.toLowerCase());\n        const matchesAuthor = !(filters === null || filters === void 0 ? void 0 : filters.author) || ((_doc_author = doc.author) === null || _doc_author === void 0 ? void 0 : _doc_author.toLowerCase().includes(filters.author.toLowerCase()));\n        const matchesLanguage = !(filters === null || filters === void 0 ? void 0 : filters.language) || ((_doc_language = doc.language) === null || _doc_language === void 0 ? void 0 : _doc_language.toLowerCase().includes(filters.language.toLowerCase()));\n        const tagFilter = ((filters === null || filters === void 0 ? void 0 : filters.tags) || []).filter((t)=>t);\n        const matchesTags = tagFilter.length === 0 || tagFilter.every((t)=>{\n            var _doc_tags;\n            return (_doc_tags = doc.tags) === null || _doc_tags === void 0 ? void 0 : _doc_tags.includes(t);\n        });\n        const docDate = new Date(doc.date || '');\n        const matchesDateFrom = !(filters === null || filters === void 0 ? void 0 : filters.dateFrom) || docDate >= new Date(filters.dateFrom);\n        const matchesDateTo = !(filters === null || filters === void 0 ? void 0 : filters.dateTo) || docDate <= new Date(filters.dateTo);\n        return matchesQuery && matchesAuthor && matchesLanguage && matchesTags && matchesDateFrom && matchesDateTo;\n    });\n}\nasync function fetchDocument(id) {\n    const res = await fetch(\"/api/documents/\".concat(id));\n    if (!res.ok) return null;\n    return res.json();\n}\nasync function askChat(prompt) {\n    const res = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            prompt\n        })\n    });\n    if (!res.ok) {\n        console.error('❌ Błąd czatu:', await res.text());\n        return 'Nie udało się uzyskać odpowiedzi.';\n    }\n    const json = await res.json();\n    return json.reply || 'Brak odpowiedzi.';\n}\nasync function sendChatMessage(messages) {\n    const res = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            messages\n        })\n    });\n    if (!res.ok) {\n        console.error('❌ Błąd czatu:', await res.text());\n        return 'Nie udało się uzyskać odpowiedzi.';\n    }\n    const json = await res.json();\n    return json.reply || 'Brak odpowiedzi.';\n}\nasync function fetchDocumentById(id) {\n    const res = await fetch(\"/api/documents/\".concat(id));\n    if (!res.ok) return null;\n    return res.json();\n}\nasync function updateDocument(id, data) {\n    const docs = loadUploadedDocs();\n    const idx = docs.findIndex((d)=>d.id === id);\n    if (idx !== -1) {\n        docs[idx] = {\n            ...docs[idx],\n            ...data\n        };\n        saveUploadedDocs(docs);\n    }\n}\nasync function deleteDocument(id) {\n    const res = await fetch(\"/api/documents/\".concat(id), {\n        method: 'DELETE'\n    });\n    if (!res.ok) {\n        const txt = await res.text().catch(()=>res.statusText);\n        console.error('❌ deleteDocument error:', res.status, txt);\n        throw new Error('Usuwanie dokumentu nie powiodło się');\n    }\n}\nasync function uploadDocument(file, metadata) {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('title', metadata.title || file.name);\n    formData.append('author', metadata.author || '');\n    formData.append('date', metadata.date || new Date().toISOString());\n    formData.append('language', metadata.language || '');\n    formData.append('tags', JSON.stringify(metadata.tags || []));\n    formData.append('keywords', JSON.stringify(metadata.keywords || []));\n    formData.append('content', metadata.content || '');\n    if (metadata.thumbnail) {\n        formData.append('thumbnail', metadata.thumbnail);\n    }\n    const res = await fetch('/api/documents', {\n        method: 'POST',\n        body: formData\n    });\n    const text = await res.text();\n    console.log('uploadDocument status', res.status, 'body', text);\n    if (!res.ok) throw new Error(text || res.statusText);\n    return JSON.parse(text);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsU0FBU0gsU0FBU2xELEtBQUssSUFBSWlELEtBQUtLLElBQUk7SUFDcERILFNBQVNFLE1BQU0sQ0FBQyxVQUFVSCxTQUFTakQsTUFBTSxJQUFFO0lBQzNDa0QsU0FBU0UsTUFBTSxDQUFDLFFBQVFILFNBQVNoRCxJQUFJLElBQUUsSUFBSTBCLE9BQU8yQixXQUFXO0lBQzdESixTQUFTRSxNQUFNLENBQUMsWUFBWUgsU0FBUy9DLFFBQVEsSUFBRTtJQUMvQ2dELFNBQVNFLE1BQU0sQ0FBQyxRQUFRMUUsS0FBS1EsU0FBUyxDQUFDK0QsU0FBUzlDLElBQUksSUFBRSxFQUFFO0lBQ3hEK0MsU0FBU0UsTUFBTSxDQUFDLFlBQVkxRSxLQUFLUSxTQUFTLENBQUMrRCxTQUFTN0MsUUFBUSxJQUFFLEVBQUU7SUFDaEU4QyxTQUFTRSxNQUFNLENBQUMsV0FBV0gsU0FBUzVDLE9BQU8sSUFBRTtJQUU3QyxJQUFJNEMsU0FBU00sU0FBUyxFQUFFO1FBQ3pCTCxTQUFTRSxNQUFNLENBQUMsYUFBYUgsU0FBU00sU0FBUztJQUM5QztJQUVBLE1BQU1qRSxNQUFNLE1BQU1DLE1BQU0sa0JBQWtCO1FBQUVDLFFBQVE7UUFBUUUsTUFBTXdEO0lBQVM7SUFDM0UsTUFBTXRELE9BQU8sTUFBTU4sSUFBSU0sSUFBSTtJQUMzQmYsUUFBUTJFLEdBQUcsQ0FBQyx5QkFBeUJsRSxJQUFJc0IsTUFBTSxFQUFFLFFBQVFoQjtJQUN6RCxJQUFJLENBQUNOLElBQUlLLEVBQUUsRUFBRSxNQUFNLElBQUlFLE1BQU1ELFFBQU1OLElBQUl3RCxVQUFVO0lBQ2pELE9BQU9wRSxLQUFLQyxLQUFLLENBQUNpQjtBQUNwQiIsInNvdXJjZXMiOlsiRDpcXFByb2pla3R5XFxaX0NoYXRHUFRcXGlid19mcm9udGVuZFxcbGliXFxhcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTE9DQUxfU1RPUkFHRV9LRVkgPSAndXBsb2FkZWREb2NzJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEb2N1bWVudCB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHRpdGxlOiBzdHJpbmdcclxuICBhdXRob3I/OiBzdHJpbmdcclxuICBkYXRlPzogc3RyaW5nXHJcbiAgbGFuZ3VhZ2U/OiBzdHJpbmdcclxuICB0YWdzPzogc3RyaW5nW11cclxuICBrZXl3b3Jkcz86IHN0cmluZ1tdXHJcbiAgY29udGVudD86IHN0cmluZ1xyXG4gIGZpbGVVcmw/OiBzdHJpbmdcclxuICB0aHVtYm5haWxVcmw/OiBzdHJpbmdcclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZFVwbG9hZGVkRG9jcygpOiBEb2N1bWVudFtdIHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBbXVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBqc29uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpXHJcbiAgICByZXR1cm4ganNvbiA/IEpTT04ucGFyc2UoanNvbikgOiBbXVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ2xvYWRVcGxvYWRlZERvY3MgZXJyb3InLCBlKVxyXG4gICAgcmV0dXJuIFtdXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzYXZlVXBsb2FkZWREb2NzKGRvY3M6IERvY3VtZW50W10pIHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxyXG4gIHRyeSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoZG9jcykpXHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5lcnJvcignc2F2ZVVwbG9hZGVkRG9jcyBlcnJvcicsIGUpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUVkaXRlZERvY3VtZW50KGlkOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8RG9jdW1lbnQ+KTogUHJvbWlzZTxEb2N1bWVudD4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2RvY3VtZW50cy8ke2lkfWAsIHtcclxuICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gIH0pXHJcblxyXG4gIGlmICghcmVzLm9rKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHphcGlzdSBlZHl0b3dhbmVnbyBkb2t1bWVudHU6JywgYXdhaXQgcmVzLnRleHQoKSlcclxuICAgIHRocm93IG5ldyBFcnJvcignTmllIHVkYcWCbyBzacSZIHphcGlzYcSHIHptaWFuJylcclxuICB9XHJcblxyXG4gIHJldHVybiByZXMuanNvbigpXHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGJhc2VEb2N1bWVudHM6IERvY3VtZW50W10gPSBbXHJcbiAge1xyXG4gICAgaWQ6ICdmYWxsYmFjay0xJyxcclxuICAgIHRpdGxlOiAnUHJlemVudGFjamEgRXdvbHVjamEgUsOzxbxuaWNvd2EnLFxyXG4gICAgYXV0aG9yOiAnQmFydGVrIFInLFxyXG4gICAgZGF0ZTogJzIwMjMtMDUtMDEnLFxyXG4gICAgbGFuZ3VhZ2U6ICdwb2xza2knLFxyXG4gICAgdGFnczogWydld29sdWNqYSByw7PFvG5pY293YScsICdhbGdvcnl0bSBnZW5ldHljem55J10sXHJcbiAgICBrZXl3b3JkczogWydhaScsICdwcmV6ZW50YWNqYSddLFxyXG4gICAgY29udGVudDogJycsXHJcbiAgICBmaWxlVXJsOiAnL3VwbG9hZHMvdHM0MjZrazdwbThkd2c2OGdubGhjMGtsbS5wZGYnLFxyXG4gICAgdGh1bWJuYWlsVXJsOiAnL3RodW1ibmFpbHMvY2pmZ3l5MzBoY3Y1ODBmY3pmdnE4NHhsNC5wbmcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdmYWxsYmFjay0yJyxcclxuICAgIHRpdGxlOiAnQnJvc3p1cmEgRmlhdCBUaXBvJyxcclxuICAgIGF1dGhvcjogJ0ZpYXQnLFxyXG4gICAgZGF0ZTogJzIwMjItMTEtMTUnLFxyXG4gICAgbGFuZ3VhZ2U6ICdhbmdpZWxza2knLFxyXG4gICAgdGFnczogWydmaWF0JywgJ3NhbW9jaMOzZCddLFxyXG4gICAga2V5d29yZHM6IFsnYnJvc3p1cmEnXSxcclxuICAgIGNvbnRlbnQ6ICcnLFxyXG4gICAgZmlsZVVybDogJy91cGxvYWRzL2RyZ3UxMnd5N2x3Y2x5YTBhbm84YzV0Z2x5LnBkZicsXHJcbiAgICB0aHVtYm5haWxVcmw6ICcvdGh1bWJuYWlscy9rZW5pZGF5cjJ0amlrMTdpdnBjb2pwNjN4LnBuZycsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2ZhbGxiYWNrLTMnLFxyXG4gICAgdGl0bGU6ICdCcm9zenVyYSBIeXVuZGFpIGkzMCcsXHJcbiAgICBhdXRob3I6ICdIeXVuZGFpJyxcclxuICAgIGRhdGU6ICcyMDI0LTAyLTEwJyxcclxuICAgIGxhbmd1YWdlOiAnYW5naWVsc2tpJyxcclxuICAgIHRhZ3M6IFsnc2Ftb2Now7NkJywgJ2h5dW5kYWknLCAnaTMwJ10sXHJcbiAgICBrZXl3b3JkczogWydicm9zenVyYSddLFxyXG4gICAgY29udGVudDogJycsXHJcbiAgICBmaWxlVXJsOiAnL3VwbG9hZHMvbzBmZmhhcGwzZjA2eDJoNWI0azBoZzUxYi5wZGYnLFxyXG4gICAgdGh1bWJuYWlsVXJsOiAnL3RodW1ibmFpbHMvZmU1bjFtYjE3azh0MzFyM2FwaXcxdncwdC5wbmcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdmYWxsYmFjay00JyxcclxuICAgIHRpdGxlOiAnRG9rdW1lbnQgdXJ6xJlkb3d5JyxcclxuICAgIGF1dGhvcjogJ1VyesSFZCBza2FyYm93eScsXHJcbiAgICBkYXRlOiAnMjAyNC0wMi0xMCcsXHJcbiAgICBsYW5ndWFnZTogJ3BvbHNraScsXHJcbiAgICB0YWdzOiBbJ2Rva3VtZW50J10sXHJcbiAgICBrZXl3b3JkczogWydwb2RhdGtpJywgJ29wxYJhdHknXSxcclxuICAgIGNvbnRlbnQ6ICcnLFxyXG4gICAgZmlsZVVybDogJy91cGxvYWRzL3Fvbmd0MTV2bnhsOGNvbjBxaHJrYnFsb2IucGRmJyxcclxuICAgIHRodW1ibmFpbFVybDogJy90aHVtYm5haWxzL2N1a3VrNDk3YWpkbnR0eTkxdGhxeGtkbjUucG5nJyxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnZmFsbGJhY2stNScsXHJcbiAgICB0aXRsZTogJ0luc3RydWtjamEgUmFkaW8gQmxhdXB1bmt0JyxcclxuICAgIGF1dGhvcjogJ0JhbHVwdW5rdCcsXHJcbiAgICBkYXRlOiAnMjAyNC0wMi0xMCcsXHJcbiAgICBsYW5ndWFnZTogJ3dpZWxvasSZenljem55JyxcclxuICAgIHRhZ3M6IFsnaW5zdHJ1a2NqYScsICdibGF1cHVua3QnXSxcclxuICAgIGtleXdvcmRzOiBbJ3JhZGlvJ10sXHJcbiAgICBjb250ZW50OiAnJyxcclxuICAgIGZpbGVVcmw6ICcvdXBsb2Fkcy95MWJqaHNwYmFibXY4NXl4c2d6d2E4ODE5LnBkZicsXHJcbiAgICB0aHVtYm5haWxVcmw6ICcvdGh1bWJuYWlscy9vYXkydDg2ajJodzE1ZWlmZjV4ZXFoa29zLnBuZycsXHJcbiAgfVxyXG5dXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEb2N1bWVudHMoZmlsdGVycz86IGFueSwgcXVlcnk/OiBzdHJpbmcpOiBQcm9taXNlPERvY3VtZW50W10+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9kb2N1bWVudHMnKVxyXG4gIGNvbnN0IHRleHQgPSBhd2FpdCByZXMudGV4dCgpXHJcblxyXG4gIGlmICghcmVzLm9rKSB7XHJcbiAgICBsZXQgZXJyTXNnID0gdGV4dFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UodGV4dClcclxuICAgICAgZXJyTXNnID0ganNvbi5lcnJvciB8fCBKU09OLnN0cmluZ2lmeShqc29uKVxyXG4gICAgfSBjYXRjaCB7fVxyXG4gICAgY29uc29sZS5lcnJvcignQsWCxIVkIHBvYmllcmFuaWEgZG9rdW1lbnTDs3c6JywgcmVzLnN0YXR1cywgZXJyTXNnKVxyXG4gICAgcmV0dXJuIGJhc2VEb2N1bWVudHMgLy8gZmFsbGJhY2sgdyBwcnp5cGFka3UgYsWCxJlkdVxyXG4gIH1cclxuXHJcbiAgbGV0IGFsbDogRG9jdW1lbnRbXSA9IFtdXHJcbiAgdHJ5IHtcclxuICAgIGFsbCA9IEpTT04ucGFyc2UodGV4dClcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgcGFyc293YW5pYSBKU09OOicsIGUpXHJcbiAgICByZXR1cm4gYmFzZURvY3VtZW50c1xyXG4gIH1cclxuXHJcbiAgaWYgKGFsbC5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiBiYXNlRG9jdW1lbnRzXHJcbiAgfVxyXG5cclxuICAvLyBmaWx0cm93YW5pZVxyXG4gIHJldHVybiBhbGwuZmlsdGVyKChkb2MpID0+IHtcclxuICAgIGNvbnN0IG1hdGNoZXNRdWVyeSA9XHJcbiAgICAgICFxdWVyeSB8fCBkb2MudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKVxyXG5cclxuICAgIGNvbnN0IG1hdGNoZXNBdXRob3IgPVxyXG4gICAgICAhZmlsdGVycz8uYXV0aG9yIHx8XHJcbiAgICAgIGRvYy5hdXRob3I/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVycy5hdXRob3IudG9Mb3dlckNhc2UoKSlcclxuXHJcbiAgICBjb25zdCBtYXRjaGVzTGFuZ3VhZ2UgPVxyXG4gICAgICAhZmlsdGVycz8ubGFuZ3VhZ2UgfHxcclxuICAgICAgZG9jLmxhbmd1YWdlPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlcnMubGFuZ3VhZ2UudG9Mb3dlckNhc2UoKSlcclxuXHJcbiAgICBjb25zdCB0YWdGaWx0ZXIgPSAoZmlsdGVycz8udGFncyB8fCBbXSkuZmlsdGVyKCh0OiBzdHJpbmcpID0+IHQpXHJcbiAgICBjb25zdCBtYXRjaGVzVGFncyA9XHJcbiAgICAgIHRhZ0ZpbHRlci5sZW5ndGggPT09IDAgfHxcclxuICAgICAgdGFnRmlsdGVyLmV2ZXJ5KCh0OiBzdHJpbmcpID0+IGRvYy50YWdzPy5pbmNsdWRlcyh0KSlcclxuXHJcbiAgICBjb25zdCBkb2NEYXRlID0gbmV3IERhdGUoZG9jLmRhdGUgfHwgJycpXHJcbiAgICBjb25zdCBtYXRjaGVzRGF0ZUZyb20gPVxyXG4gICAgICAhZmlsdGVycz8uZGF0ZUZyb20gfHwgZG9jRGF0ZSA+PSBuZXcgRGF0ZShmaWx0ZXJzLmRhdGVGcm9tKVxyXG4gICAgY29uc3QgbWF0Y2hlc0RhdGVUbyA9XHJcbiAgICAgICFmaWx0ZXJzPy5kYXRlVG8gfHwgZG9jRGF0ZSA8PSBuZXcgRGF0ZShmaWx0ZXJzLmRhdGVUbylcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBtYXRjaGVzUXVlcnkgJiZcclxuICAgICAgbWF0Y2hlc0F1dGhvciAmJlxyXG4gICAgICBtYXRjaGVzTGFuZ3VhZ2UgJiZcclxuICAgICAgbWF0Y2hlc1RhZ3MgJiZcclxuICAgICAgbWF0Y2hlc0RhdGVGcm9tICYmXHJcbiAgICAgIG1hdGNoZXNEYXRlVG9cclxuICAgIClcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEb2N1bWVudChpZDogc3RyaW5nKTogUHJvbWlzZTxEb2N1bWVudCB8IG51bGw+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9kb2N1bWVudHMvJHtpZH1gKVxyXG4gIGlmICghcmVzLm9rKSByZXR1cm4gbnVsbFxyXG4gIHJldHVybiByZXMuanNvbigpXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc2tDaGF0KHByb21wdDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9jaGF0Jywge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvbXB0IH0pLFxyXG4gIH0pXHJcblxyXG4gIGlmICghcmVzLm9rKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIGN6YXR1OicsIGF3YWl0IHJlcy50ZXh0KCkpXHJcbiAgICByZXR1cm4gJ05pZSB1ZGHFgm8gc2nEmSB1enlza2HEhyBvZHBvd2llZHppLidcclxuICB9XHJcblxyXG4gIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpXHJcbiAgcmV0dXJuIGpzb24ucmVwbHkgfHwgJ0JyYWsgb2Rwb3dpZWR6aS4nXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kQ2hhdE1lc3NhZ2UobWVzc2FnZXM6IHsgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7IGNvbnRlbnQ6IHN0cmluZyB9W10pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2NoYXQnLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlcyB9KSxcclxuICB9KVxyXG5cclxuICBpZiAoIXJlcy5vaykge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBjemF0dTonLCBhd2FpdCByZXMudGV4dCgpKVxyXG4gICAgcmV0dXJuICdOaWUgdWRhxYJvIHNpxJkgdXp5c2thxIcgb2Rwb3dpZWR6aS4nXHJcbiAgfVxyXG5cclxuICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKVxyXG4gIHJldHVybiBqc29uLnJlcGx5IHx8ICdCcmFrIG9kcG93aWVkemkuJ1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEb2N1bWVudEJ5SWQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2RvY3VtZW50cy8ke2lkfWApXHJcbiAgaWYgKCFyZXMub2spIHJldHVybiBudWxsXHJcbiAgcmV0dXJuIHJlcy5qc29uKClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZURvY3VtZW50KGlkOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8RG9jdW1lbnQ+KSB7XHJcbiAgY29uc3QgZG9jcyA9IGxvYWRVcGxvYWRlZERvY3MoKVxyXG4gIGNvbnN0IGlkeCA9IGRvY3MuZmluZEluZGV4KChkKSA9PiBkLmlkID09PSBpZClcclxuICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgZG9jc1tpZHhdID0geyAuLi5kb2NzW2lkeF0sIC4uLmRhdGEgfVxyXG4gICAgc2F2ZVVwbG9hZGVkRG9jcyhkb2NzKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZURvY3VtZW50KGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9kb2N1bWVudHMvJHtpZH1gLCB7IG1ldGhvZDogJ0RFTEVURScgfSlcclxuICBpZiAoIXJlcy5vaykge1xyXG4gICAgY29uc3QgdHh0ID0gYXdhaXQgcmVzLnRleHQoKS5jYXRjaCgoKSA9PiByZXMuc3RhdHVzVGV4dClcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBkZWxldGVEb2N1bWVudCBlcnJvcjonLCByZXMuc3RhdHVzLCB0eHQpXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzdXdhbmllIGRva3VtZW50dSBuaWUgcG93aW9kxYJvIHNpxJknKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwbG9hZERvY3VtZW50KFxyXG4gIGZpbGU6IEZpbGUsXHJcbiAgbWV0YWRhdGE6IHsgdGl0bGU/OiBzdHJpbmc7IGF1dGhvcj86IHN0cmluZzsgZGF0ZT86IHN0cmluZzsgbGFuZ3VhZ2U/OiBzdHJpbmc7IHRhZ3M/OiBzdHJpbmdbXTsga2V5d29yZHM/OiBzdHJpbmdbXTsgY29udGVudD86IHN0cmluZyB9XHJcbik6IFByb21pc2U8RG9jdW1lbnQ+IHtcclxuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXHJcbiAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSlcclxuICBmb3JtRGF0YS5hcHBlbmQoJ3RpdGxlJywgbWV0YWRhdGEudGl0bGUgfHwgZmlsZS5uYW1lKVxyXG4gIGZvcm1EYXRhLmFwcGVuZCgnYXV0aG9yJywgbWV0YWRhdGEuYXV0aG9yfHwnJylcclxuICBmb3JtRGF0YS5hcHBlbmQoJ2RhdGUnLCBtZXRhZGF0YS5kYXRlfHxuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpXHJcbiAgZm9ybURhdGEuYXBwZW5kKCdsYW5ndWFnZScsIG1ldGFkYXRhLmxhbmd1YWdlfHwnJylcclxuICBmb3JtRGF0YS5hcHBlbmQoJ3RhZ3MnLCBKU09OLnN0cmluZ2lmeShtZXRhZGF0YS50YWdzfHxbXSkpXHJcbiAgZm9ybURhdGEuYXBwZW5kKCdrZXl3b3JkcycsIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhLmtleXdvcmRzfHxbXSkpXHJcbiAgZm9ybURhdGEuYXBwZW5kKCdjb250ZW50JywgbWV0YWRhdGEuY29udGVudHx8JycpXHJcbiAgXHJcbiAgaWYgKG1ldGFkYXRhLnRodW1ibmFpbCkge1xyXG5cdGZvcm1EYXRhLmFwcGVuZCgndGh1bWJuYWlsJywgbWV0YWRhdGEudGh1bWJuYWlsKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvZG9jdW1lbnRzJywgeyBtZXRob2Q6ICdQT1NUJywgYm9keTogZm9ybURhdGEgfSlcclxuICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzLnRleHQoKVxyXG4gIGNvbnNvbGUubG9nKCd1cGxvYWREb2N1bWVudCBzdGF0dXMnLCByZXMuc3RhdHVzLCAnYm9keScsIHRleHQpXHJcbiAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcih0ZXh0fHxyZXMuc3RhdHVzVGV4dClcclxuICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KVxyXG59XHJcbiJdLCJuYW1lcyI6WyJMT0NBTF9TVE9SQUdFX0tFWSIsImxvYWRVcGxvYWRlZERvY3MiLCJqc29uIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJzYXZlVXBsb2FkZWREb2NzIiwiZG9jcyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzYXZlRWRpdGVkRG9jdW1lbnQiLCJpZCIsImRhdGEiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5Iiwib2siLCJ0ZXh0IiwiRXJyb3IiLCJiYXNlRG9jdW1lbnRzIiwidGl0bGUiLCJhdXRob3IiLCJkYXRlIiwibGFuZ3VhZ2UiLCJ0YWdzIiwia2V5d29yZHMiLCJjb250ZW50IiwiZmlsZVVybCIsInRodW1ibmFpbFVybCIsImZldGNoRG9jdW1lbnRzIiwiZmlsdGVycyIsInF1ZXJ5IiwiZXJyTXNnIiwic3RhdHVzIiwiYWxsIiwibGVuZ3RoIiwiZmlsdGVyIiwiZG9jIiwibWF0Y2hlc1F1ZXJ5IiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsIm1hdGNoZXNBdXRob3IiLCJtYXRjaGVzTGFuZ3VhZ2UiLCJ0YWdGaWx0ZXIiLCJ0IiwibWF0Y2hlc1RhZ3MiLCJldmVyeSIsImRvY0RhdGUiLCJEYXRlIiwibWF0Y2hlc0RhdGVGcm9tIiwiZGF0ZUZyb20iLCJtYXRjaGVzRGF0ZVRvIiwiZGF0ZVRvIiwiZmV0Y2hEb2N1bWVudCIsImFza0NoYXQiLCJwcm9tcHQiLCJyZXBseSIsInNlbmRDaGF0TWVzc2FnZSIsIm1lc3NhZ2VzIiwiZmV0Y2hEb2N1bWVudEJ5SWQiLCJ1cGRhdGVEb2N1bWVudCIsImlkeCIsImZpbmRJbmRleCIsImQiLCJkZWxldGVEb2N1bWVudCIsInR4dCIsImNhdGNoIiwic3RhdHVzVGV4dCIsInVwbG9hZERvY3VtZW50IiwiZmlsZSIsIm1ldGFkYXRhIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsIm5hbWUiLCJ0b0lTT1N0cmluZyIsInRodW1ibmFpbCIsImxvZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/api.ts\n"));

/***/ })

});