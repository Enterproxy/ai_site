(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{255:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(5155),r(7650),r(5744),r(589)},1886:(e,t,r)=>{"use strict";r.d(t,{Nn:()=>i,P_:()=>a,XX:()=>u,_R:()=>s,gJ:()=>o,oP:()=>n,sW:()=>l});async function n(e,t){let r=await fetch("/api/documents/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw console.error("❌ Błąd zapisu edytowanego dokumentu:",await r.text()),Error("Nie udało się zapisać zmian");return r.json()}async function a(e,t){let r=await fetch("/api/documents"),n=await r.text();if(!r.ok){let e=n;try{let t=JSON.parse(n);e=t.error||JSON.stringify(t)}catch(e){}return console.error("Błąd pobierania dokument\xf3w:",r.status,e),[]}return JSON.parse(n).filter(r=>{var n,a;let l=!t||r.title.toLowerCase().includes(t.toLowerCase()),o=!(null==e?void 0:e.author)||(null==(n=r.author)?void 0:n.toLowerCase().includes(e.author.toLowerCase())),s=!(null==e?void 0:e.language)||(null==(a=r.language)?void 0:a.toLowerCase().includes(e.language.toLowerCase())),i=((null==e?void 0:e.tags)||[]).filter(e=>e),u=0===i.length||i.every(e=>{var t;return null==(t=r.tags)?void 0:t.includes(e)}),d=new Date(r.date||""),c=!(null==e?void 0:e.dateFrom)||d>=new Date(e.dateFrom),f=!(null==e?void 0:e.dateTo)||d<=new Date(e.dateTo);return l&&o&&s&&u&&c&&f})}async function l(e){let t=await fetch("/api/documents/".concat(e));return t.ok?t.json():null}async function o(e){let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e})});return t.ok?(await t.json()).reply||"Brak odpowiedzi.":(console.error("❌ Błąd czatu:",await t.text()),"Nie udało się uzyskać odpowiedzi.")}async function s(e){let t=await fetch("/api/documents/".concat(e));return t.ok?t.json():null}async function i(e){let t=await fetch("/api/documents/".concat(e),{method:"DELETE"});if(!t.ok){let e=await t.text().catch(()=>t.statusText);throw console.error("❌ deleteDocument error:",t.status,e),Error("Usuwanie dokumentu nie powiodło się")}}async function u(e,t){let r=new FormData;r.append("file",e),r.append("title",t.title||e.name),r.append("author",t.author||""),r.append("date",t.date||new Date().toISOString()),r.append("language",t.language||""),r.append("tags",JSON.stringify(t.tags||[])),r.append("keywords",JSON.stringify(t.keywords||[])),r.append("content",t.content||"");let n=await fetch("/api/documents",{method:"POST",body:r}),a=await n.text();if(console.log("uploadDocument status",n.status,"body",a),!n.ok)throw Error(a||n.statusText);return JSON.parse(a)}},2146:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(5262)},2227:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2115);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},3046:(e,t,r)=>{Promise.resolve().then(r.bind(r,9397))},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return l},createSnapshot:function(){return s}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function l(){return a?new a:new n}function o(e){return a?a.bind(e):n.bind(e)}function s(){return a?a.snapshot():function(e,...t){return e(...t)}}},4393:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2115);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))})},5744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(7828)},6645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(8229)._(r(7357));function a(e,t){var r;let a={};"function"==typeof e&&(a.loader=e);let l={...a,...t};return(0,n.default)({...l,modules:null==(r=l.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=r(5155),a=r(2115),l=r(2146);function o(e){return{default:e&&"default"in e?e.default:e}}r(255);let s={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},i=function(e){let t={...s,...e},r=(0,a.lazy)(()=>t.loader().then(o)),i=t.loading;function u(e){let o=i?(0,n.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,s=!t.ssr||!!t.loading,u=s?a.Suspense:a.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(u,{...s?{fallback:o}:{},children:d})}return u.displayName="LoadableComponent",u}},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(4054).createAsyncLocalStorage)()},8791:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2115);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m10.5 21 5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 0 1 6-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 0 1-3.827-5.802"}))})},9397:(e,t,r)=>{"use strict";let n,a;r.r(t),r.d(t,{default:()=>q});var l=r(5155),o=r(2115),s=r(6766);let i=o.forwardRef(function(e,t){let{title:r,titleId:n,...a}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?o.createElement("title",{id:n},r):null,o.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))});function u(e){let{onSearch:t}=e;return(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(i,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"}),(0,l.jsx)("input",{type:"text",placeholder:"Wyszukaj dokumenty, słowa, frazy...",onChange:e=>t(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})}var d=r(4393),c=r(4170),f=r(8791),h=r(2227);function p(e){let{filters:t,setFilters:r}=e,n=(e,n)=>{r({...t,[e]:n})};return(0,l.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-card sticky top-0 border border-gray-200",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[(0,l.jsx)(d.A,{className:"w-5 h-5 text-blue-600"}),"Filtry"]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(c.A,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,l.jsx)("input",{type:"text",value:t.author||"",onChange:e=>n("author",e.target.value),placeholder:"Autor",className:"pl-10 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(f.A,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,l.jsx)("input",{type:"text",value:t.language||"",onChange:e=>n("language",e.target.value),placeholder:"Język",className:"pl-10 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(d.A,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,l.jsx)("input",{type:"text",value:(t.tags||[]).join(", "),onChange:e=>{n("tags",e.target.value.split(",").map(e=>e.trim()).filter(e=>e))},placeholder:"Tagi (oddziel przecinkiem)",className:"pl-10 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(h.A,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,l.jsx)("input",{type:"date",value:t.dateFrom||"",onChange:e=>n("dateFrom",e.target.value||null),className:"pl-10 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(h.A,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,l.jsx)("input",{type:"date",value:t.dateTo||"",onChange:e=>n("dateTo",e.target.value||null),className:"pl-10 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})})}var g=r(6874),m=r.n(g),w=r(2975),y=r(6645);function v(e){let{document:t}=e,{id:r,title:n,author:a,date:o,keywords:s=[],tags:i=[],fileUrl:u}=t;return(0,l.jsx)(m(),{href:"/document/".concat(r),children:(0,l.jsxs)("div",{className:"bg-white border rounded-xl p-6 shadow hover:shadow-lg transition-all cursor-pointer space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w.A,{className:"w-6 h-6 text-blue-600"}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:n})]}),(0,l.jsxs)("p",{className:"text-sm text-muted",children:[a&&(0,l.jsxs)("span",{children:["Autor: ",a," • "]}),o&&(0,l.jsxs)("span",{children:["Data: ",new Date(o).toLocaleDateString()]})]}),u&&(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("object",{data:"".concat(u,"#page=1&view=FitH"),type:"application/pdf",width:"200",height:"260",className:"border rounded mx-auto",children:(0,l.jsx)("p",{children:"Podgląd PDF niedostępny"})})}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.slice(0,3).map(e=>(0,l.jsx)("span",{className:"text-sm bg-gray-100 text-gray-700 px-3 py-1 rounded-full font-medium",children:e},e)),i.slice(0,2).map(e=>(0,l.jsx)("span",{className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full font-medium",children:e},e))]})]})})}r.n(y)()(()=>Promise.all([r.e(309),r.e(361),r.e(255),r.e(533)]).then(r.bind(r,2533)).then(e=>e.PdfPreview),{loadableGenerated:{webpack:()=>[2533]},ssr:!1});var b=r(1886);let x=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,j=e=>"init"in e,k=e=>!!e.write,_=e=>"v"in e||"e"in e,N=e=>{if("e"in e)throw e.e;if(!("v"in e))throw Error("[Bug] atom state is not initialized");return e.v},S=new WeakMap,E=e=>{var t;return P(e)&&!!(null==(t=S.get(e))?void 0:t[0])},O=e=>{let t=S.get(e);(null==t?void 0:t[0])&&(t[0]=!1,t[1].forEach(e=>e()))},A=(e,t)=>{let r=S.get(e);if(!r){r=[!0,new Set],S.set(e,r);let t=()=>{r[0]=!1};e.then(t,t)}r[1].add(t)},P=e=>"function"==typeof(null==e?void 0:e.then),T=(e,t,r)=>{r.p.has(e)||(r.p.add(e),t.then(()=>{r.p.delete(e)},()=>{r.p.delete(e)}))},C=(e,t,r)=>{let n=r(e),a="v"in n,l=n.v;if(P(t))for(let a of n.d.keys())T(e,t,r(a));n.v=t,delete n.e,a&&Object.is(l,n.v)||(++n.n,P(l)&&O(l))},L=(e,t,r)=>{var n;let a=new Set;for(let t of(null==(n=r.get(e))?void 0:n.t)||[])r.has(t)&&a.add(t);for(let e of t.p)a.add(e);return a},M=()=>{let e=new Set,t=()=>{e.forEach(e=>e())};return t.add=t=>(e.add(t),()=>{e.delete(t)}),t},z=()=>{let e={},t=new WeakMap,r=r=>{var n,a;null==(n=t.get(e))||n.forEach(e=>e(r)),null==(a=t.get(r))||a.forEach(e=>e())};return r.add=(r,n)=>{let a=r||e,l=(t.has(a)?t:t.set(a,new Set)).get(a);return l.add(n),()=>{null==l||l.delete(n),l.size||t.delete(a)}},r},D=Symbol(),R=(e=new WeakMap,t=new WeakMap,r=new WeakMap,n=new Set,a=new Set,l=new Set,o={},s=(e,...t)=>e.read(...t),i=(e,...t)=>e.write(...t),u=(e,t)=>{var r;return null==(r=e.unstable_onInit)?void 0:r.call(e,t)},d=(e,t)=>{var r;return null==(r=e.onMount)?void 0:r.call(e,t)},...c)=>{let f=c[0]||(t=>{if(!t)throw Error("Atom is undefined or null");let r=e.get(t);return r||(r={d:new Map,p:new Set,n:0},e.set(t,r),null==u||u(t,S)),r}),h=c[1]||(()=>{let e=[],r=t=>{try{t()}catch(t){e.push(t)}};do{o.f&&r(o.f);let e=new Set,s=e.add.bind(e);n.forEach(e=>{var r;return null==(r=t.get(e))?void 0:r.l.forEach(s)}),n.clear(),l.forEach(s),l.clear(),a.forEach(s),a.clear(),e.forEach(r),n.size&&p()}while(n.size||l.size||a.size);if(e.length)throw AggregateError(e)}),p=c[2]||(()=>{let e=[],a=new WeakSet,l=new WeakSet,o=Array.from(n);for(;o.length;){let n=o[o.length-1],s=f(n);if(l.has(n)){o.pop();continue}if(a.has(n)){if(r.get(n)===s.n)e.push([n,s]);else if(r.has(n))throw Error("[Bug] invalidated atom exists");l.add(n),o.pop();continue}for(let e of(a.add(n),L(n,s,t)))a.has(e)||o.push(e)}for(let t=e.length-1;t>=0;--t){let[a,l]=e[t],o=!1;for(let e of l.d.keys())if(e!==a&&n.has(e)){o=!0;break}o&&(g(a),y(a)),r.delete(a)}}),g=c[3]||(e=>{var a;let l,i,u=f(e);if(_(u)&&(t.has(e)&&r.get(e)!==u.n||Array.from(u.d).every(([e,t])=>g(e).n===t)))return u;u.d.clear();let d=!0,c=()=>{t.has(e)&&(y(e),p(),h())},m=u.n;try{let r=s(e,r=>{var n;if(x(e,r)){let e=f(r);if(!_(e))if(j(r))C(r,r.init,f);else throw Error("no atom init");return N(e)}let a=g(r);try{return N(a)}finally{u.d.set(r,a.n),E(u.v)&&T(e,u.v,a),null==(n=t.get(r))||n.t.add(e),d||c()}},{get signal(){return l||(l=new AbortController),l.signal},get setSelf(){return k(e)||console.warn("setSelf function cannot be used with read-only atom"),!i&&k(e)&&(i=(...t)=>{if(d&&console.warn("setSelf function cannot be called in sync"),!d)try{return w(e,...t)}finally{p(),h()}}),i}});return C(e,r,f),P(r)&&(A(r,()=>null==l?void 0:l.abort()),r.then(c,c)),u}catch(e){return delete u.v,u.e=e,++u.n,u}finally{d=!1,m!==u.n&&r.get(e)===m&&(r.set(e,u.n),n.add(e),null==(a=o.c)||a.call(o,e))}}),m=c[4]||(e=>{let n=[e];for(;n.length;){let e=n.pop(),a=f(e);for(let l of L(e,a,t)){let e=f(l);r.set(l,e.n),n.push(l)}}}),w=c[5]||((e,...t)=>{let r=!0;try{return i(e,e=>N(g(e)),(t,...a)=>{var l;let s=f(t);try{if(!x(e,t))return w(t,...a);{if(!j(t))throw Error("atom not writable");let e=s.n,r=a[0];C(t,r,f),y(t),e!==s.n&&(n.add(t),null==(l=o.c)||l.call(o,t),m(t));return}}finally{r||(p(),h())}},...t)}finally{r=!1}}),y=c[6]||(e=>{var r;let a=f(e),l=t.get(e);if(l&&!E(a.v)){for(let[t,s]of a.d)if(!l.d.has(t)){let a=f(t);v(t).t.add(e),l.d.add(t),s!==a.n&&(n.add(t),null==(r=o.c)||r.call(o,t),m(t))}for(let t of l.d||[])if(!a.d.has(t)){l.d.delete(t);let r=b(t);null==r||r.t.delete(e)}}}),v=c[7]||(e=>{var r;let n=f(e),l=t.get(e);if(!l){for(let t of(g(e),n.d.keys()))v(t).t.add(e);l={l:new Set,d:new Set(n.d.keys()),t:new Set},t.set(e,l),null==(r=o.m)||r.call(o,e),k(e)&&a.add(()=>{let t=!0;try{let r=d(e,(...r)=>{try{return w(e,...r)}finally{t||(p(),h())}});r&&(l.u=()=>{t=!0;try{r()}finally{t=!1}})}finally{t=!1}})}return l}),b=c[8]||(e=>{var r;let n=f(e),a=t.get(e);if(a&&!a.l.size&&!Array.from(a.t).some(r=>{var n;return null==(n=t.get(r))?void 0:n.d.has(e)})){for(let s of(a.u&&l.add(a.u),a=void 0,t.delete(e),null==(r=o.u)||r.call(o,e),n.d.keys())){let t=b(s);null==t||t.t.delete(e)}return}return a}),S={get:e=>N(g(e)),set:(e,...t)=>{try{return w(e,...t)}finally{p(),h()}},sub:(e,t)=>{let r=v(e).l;return r.add(t),h(),()=>{r.delete(t),b(e),h()}}};return Object.defineProperty(S,D,{value:[e,t,r,n,a,l,o,s,i,u,d,f,h,p,g,m,w,y,v,b]}),S},W=e=>(e.c||(e.c=z()),e.m||(e.m=z()),e.u||(e.u=z()),e.f||(e.f=M()),e),F=0;function J(e){return e(this)}function B(e,t,r){return t(this,"function"==typeof r?r(e(this)):r)}let I=()=>{let e=0,t=W({}),r=new WeakMap,n=new WeakMap,a=R(r,n,void 0,void 0,void 0,void 0,t,void 0,(t,r,n,...a)=>e?n(t,...a):t.write(r,n,...a)),l=new Set;return t.m.add(void 0,e=>{l.add(e),r.get(e).m=n.get(e)}),t.u.add(void 0,e=>{l.delete(e);let t=r.get(e);delete t.m}),Object.assign(a,{dev4_get_internal_weak_map:()=>r,dev4_get_mounted_atoms:()=>l,dev4_restore_atoms:t=>{a.set({read:()=>null,write:(r,n)=>{++e;try{for(let[e,r]of t)"init"in e&&n(e,r)}finally{--e}}})}})},U=(0,o.createContext)(void 0);function Q(e){let t=(0,o.useContext)(U);return(null==e?void 0:e.store)||t||(a||(a=n?n():I(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=a),globalThis.__JOTAI_DEFAULT_STORE__!==a&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),a)}let V=e=>"function"==typeof(null==e?void 0:e.then),Z=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},H=o.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw Z(e),e}),X=new WeakMap,G=(e,t)=>{let r=X.get(e);return r||(r=new Promise((n,a)=>{let l=e,o=e=>t=>{l===e&&n(t)},s=e=>t=>{l===e&&a(t)},i=()=>{try{let e=t();V(e)?(X.set(e,r),l=e,e.then(o(e),s(e)),A(e,i)):n(e)}catch(e){a(e)}};e.then(o(e),s(e)),A(e,i)}),X.set(e,r)),r},$=function(e,t){let r=`atom${++F}`,n={toString(){return this.debugLabel?r+":"+this.debugLabel:r}};return"function"==typeof e?n.read=e:(n.init=e,n.read=J,n.write=B),n}({tags:[],keywords:[],dateFrom:null,dateTo:null,searchQuery:"",author:"",language:""});function q(){let[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)(!0),{filters:a,setFilters:i,searchQuery:d}=function(){var e;let[t,r]=[function(e,t){let{delay:r,unstable_promiseStatus:n=!o.use}=t||{},a=Q(t),[[l,s,i],u]=(0,o.useReducer)(t=>{let r=a.get(e);return Object.is(t[0],r)&&t[1]===a&&t[2]===e?t:[r,a,e]},void 0,()=>[a.get(e),a,e]),d=l;if((s!==a||i!==e)&&(u(),d=a.get(e)),(0,o.useEffect)(()=>{let t=a.sub(e,()=>{if(n)try{let t=a.get(e);V(t)&&Z(G(t,()=>a.get(e)))}catch(e){}if("number"==typeof r)return void setTimeout(u,r);u()});return u(),t},[a,e,r,n]),(0,o.useDebugValue)(d),V(d)){let t=G(d,()=>a.get(e));return n&&Z(t),H(t)}return d}($,void 0),function(e,t){let r=Q(t);return(0,o.useCallback)(function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!("write"in e))throw Error("not writable atom");return r.set(e,...n)},[r,e])}($,e)];return{filters:t,searchQuery:t.searchQuery,setFilters:r}}();return(0,o.useEffect)(()=>{(async()=>{n(!0),t(await (0,b.P_)(a,d)),n(!1)})()},[a,d]),(0,l.jsxs)("div",{className:"grid grid-cols-12 gap-6 h-full",children:[(0,l.jsx)("div",{className:"col-span-12 xl:col-span-3",children:(0,l.jsx)(p,{filters:a,setFilters:i})}),(0,l.jsxs)("div",{className:"col-span-12 xl:col-span-9 relative flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-10",children:(0,l.jsx)(s.default,{src:"/logo.png",alt:"Logo",width:400,height:400,className:"blur-sm"})}),(0,l.jsx)(u,{onSearch:e=>i({...a,searchQuery:e})}),r?(0,l.jsx)("p",{className:"text-center text-gray-500 mt-8",children:"Ładowanie dokument\xf3w..."}):0===e.length?(0,l.jsx)("p",{className:"text-center text-gray-500 mt-8",children:"Brak wynik\xf3w spełniających kryteria."}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4 z-10 relative",children:e.map(e=>(0,l.jsx)(v,{document:e},e.id))})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,195,441,684,358],()=>t(3046)),_N_E=e.O()}]);